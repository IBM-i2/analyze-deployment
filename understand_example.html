<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Understanding the distributed deployment example </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Understanding the distributed deployment example ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="images/favicon.png">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="guidetoc/toc.html">
    
    <meta property="docfx:rel" content="">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                IBM <strong>i2 Analyze</strong>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
          
          <div class="subnav navbar navbar-default">
            <div class="container hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="understanding-the-distributed-deployment-example">Understanding the distributed deployment example</h1>

<p>The distributed deployment example demonstrates how to build a distributed deployment of i2 Analyze on multiple servers. To avoid the need for multiple physical servers, Docker is used to simulate the servers.</p>
<p>The distributed deployment example not only provides the environment for the deployment, but configures and deploys i2 Analyze across the servers in the same way that a system implementer does.</p>
<p>In the distributed deployment example, i2 Analyze with the Opal services is deployed on seven servers:</p>
<ul>
<li>One for Liberty and the i2 Analyze application</li>
<li>One for the database management system for the Information Store database</li>
<li>Two for each Solr node</li>
<li>Three for ZooKeeper that manages the Solr configuration</li>
</ul>
<p>The following diagram shows the servers that i2 Analyze is deployed on, and what is required on each server:
<img src="images/distributed_topology.png" alt="Distributed deployment server topology"></p>
<p>In addition to the containers that replicate physical servers in a deployment of i2 Analyze, as part of the distributed deployment example, extra containers are used to configure the Docker environment. These extra containers do not represent physical servers in a non-Docker environment. The additional containers are:</p>
<ul>
<li><p>Ubuntu toolkit<br>In the example Docker environment, i2 Analyze is installed on the Ubuntu operating system. Each container with i2 Analyze installed is based on this container.</p>
<blockquote><p>Note: Installation of i2 Analyze on Ubuntu is not supported in any environment other than the distributed deployment example.</p>
</blockquote>
</li>
<li><p>Db2 installer<br>This container contains the prerequisites for Db2 to be installed in the Docker environment. It is used by the Db2 container to install Db2.</p>
</li>
<li><p>Base client<br>This container is used to install the Db2 Client. It is used by the Liberty and Admin client containers to install the Db2 Client when you are using Db2 as the database management system.</p>
</li>
<li><p>Admin client<br>There are two versions of the admin client container in the example, one for SQL Server and one for Db2.
This container contains an installation of i2 Analyze and the client required to connect to the remote database. In the distributed deployment example, this container is used to run commands that impact other containers. In a non-Docker environment, you can run these commands on the specific physical server.</p>
</li>
</ul>
<p>Read the following documentation and <code>Dockerfiles</code> to gain an understanding of how to deploy a similar i2 Analyze system in a non-Docker environment, on physical servers. All of the steps that you must complete to deploy a distributed i2 Analyze system are demonstrated in the distributed deployment example.</p>
<p>After you deploy the distributed deployment example, information is provided for how to complete configuration tasks in a distributed deployment of i2 Analyze.</p>
<hr>
<h2 id="host-names-in-a-distributed-environment">Host names in a distributed environment</h2>
<p>When i2 Analyze is deployed in a distributed environment, the <code>topology.xml</code> file contains multiple host names. In the distributed deployment example, the host names that are used include; <code>sqlserver</code>, <code>db2</code>, <code>solr</code>, <code>solr2</code>, <code>zookeeper</code>, <code>zookeeper2</code>, <code>zookeeper3</code>, and <code>liberty</code>.</p>
<p>To deploy and configure i2 Analyze is a distributed environment, you can use the <code>--hostname</code> argument restrict the effect of the toolkit task to the host name that you provide. For example, <code>setup -t startSolrNodes --hostname solr.eianet</code> starts the Solr nodes on the server with the host name <code>solr</code>. If you run <code>setup -t startSolr --hostname solr2.eianet</code>, only the Solr nodes on the server with host name <code>solr2</code> start.</p>
<p>If a toolkit task that you run with a specific host name impacts multiple servers, you must run that toolkit task for each server with their host name specified.</p>
<hr>
<h2 id="configurations">Configurations</h2>
<p>The distributed deployment example includes a number of configurations that can be used to demonstrate a deployment of i2 Analyze.</p>
<p>The configuration in the <code>src/configuration</code> directory is the default configuration for the distributed deployment example. i2 Analyze is deployed in the topology that is described above, with the Information Store on SQL Server.</p>
<p>The <code>src/configuration_mods</code> directory contains the configuration modifications, separated into database management system, that are required to configure i2 Analyze for specific deployment patterns or features. You can compare the changes in these directories to the <code>src/configuration</code> directory to identify what is required for these deployments.</p>
<ul>
<li><strong>SSL deployments</strong><br>The configurations that include <code>ssl</code> secure connection to and between components of i2 Analyze. For more information, see <a href="securing_ssl.html">Deploying the distributed deployment example with security</a>.</li>
<li><strong>i2 Connect</strong><br>The <code>i2connect</code> configuration deploys i2 Analyze with i2 Connect and an example connector. For more information about configuring client certificate authentication, see <a href="deploy_i2_connect.html">Deploying the distributed deployment example with i2 Connect</a>.</li>
<li><strong>IBM HTTP Server</strong><br>The <code>ihs</code> and <code>ihs_ssl</code> configurations deploy the distributed deployment example with an IBM HTTP Server that clients use to connect to the deployment. For more information, see <a href="deploy_walk_through_http.html">Deploying the distributed deployment example with IBM HTTP Server</a>.</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            &copy; N. Harris Computer Corporation (2022)
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
